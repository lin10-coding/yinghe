<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>游戏主页面</title>
<style>
    html {
      font-family: Arial, sans-serif;
      background-image: url(../static/bg_dungeon.png);
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }

    body {
      margin: 0;
      font-family: Arial, sans-serif;
    }

    .character-info {
      position: absolute;
      top: 10%;
      left: 5%;
      width: 10%;
      height: 10%;
      transform: scale(1.5);
    }

    .character-avatar {
      width: 100%;
      height: 120%;
      left: 12%;
      border-radius: 50%;
      position: relative;
    }

    .battle-value {
      font-size: 100%;
      position: relative;
      top: 45%;
      left: 40%;
      color: rgb(0, 0, 0);
      width: 100%;
      height: 100%;
    }

    .avatar-bg-bottom {
      position: absolute;
      top: 0;
      left: 0;
      width: 120%;
      height: 150%;
      z-index: -1;
    }

    .avatar-bg-top {
      position: absolute;
      left: 0;
      top: 100%;
      width: 100%;
      height: 50%;
      z-index: 1;
    }

    .battle-value-bg {
      position: absolute;
      top: 150%;
      left: 0;
      width: 100%;
      height: 50%;
      z-index: -2;
    }

    .box-container {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      width: 100%;
      height: 100%;
    }

    .box-row {
      display: flex;
      justify-content: space-between;
      width: 100%;
      height: 100%;
    }

    .box-img {
      width: 100%;
      height: 100%;
    }

    .box-caption {
      font-size: 100%;
      text-align: center;
      margin-top: -20%;
      width: 100%;
      height: 100%;
    }

    .attribute-points {
      position: absolute;
      top: 5%;
      left: 40%;
      width: 20%;
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 10px;
      color: white;
      font-size: 85%;
    }

    .attribute-points div {
      display: flex;
      justify-content: space-between;
    }

    .attribute-points label {
      width: 40%;
      text-align: left;
    }

    .attribute-points span {
      width: 60%;
      text-align: right;
    }

    .event-description-container {
      position: absolute;
      top: 20%;
      left: 35%;
      width: 30%;
      color: white;
      font-size: 90%;
      line-height: 1.2;
      background-color: rgba(0, 0, 0, 0.6);
      padding: 20px;
      border-radius: 10px;
      cursor: pointer; /* 点击事件触发 */
    }

    .event-description p {
      margin: 5px 0;
      display: none; /* 初始隐藏每段文本 */
    }

    .next-year-button {
      width: 100%; /* 自动适应内容 */
      padding: 10px 20px; /* 添加左右内边距 */
      background-image: url(../static/wenben.png); /* 按钮的背景图片 */
      background-size: cover;
      background-position: center;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 90%;
      text-align: center;
      margin-top: 15px;
      display: none; /* 初始隐藏按钮 */
    }
    /* 定位帮助按钮：左上角 */
    .help-button {
      position: absolute;
      top: 10px;
      left: 10px;
      width: 50px;
      height: 50px;
      background-image: url('../static/help.png'); /* 请替换为实际的帮助图标路径 */
      background-size: contain;
      background-position: center;
      border: none;
      cursor: pointer;
      z-index: 10;
    }

    /* 定位设置按钮：右下角 */
    .settings-button {
      position: absolute;
      bottom: 10px;
      right: 10px;
      width: 50px;
      height: 50px;
      background-image: url('../static/lock.png'); /* 请替换为实际的设置图标路径 */
      background-size: contain;
      background-position: center;
      border: none;
      cursor: pointer;
      z-index: 10;
    }

  </style>
</head>

<body>
  <div class="character-info">
    <img class="character-avatar" src="../static/character_avatar.png" alt="Character Avatar">
    <img class="avatar-bg-bottom" src="../static/bg_charactar_avatar_bottom.png" alt="Bottom Background">
    <img class="avatar-bg-top" src="../static/bg_charactar_avatar_top.png" alt="Top Background">
    <div class="battle-value">1000</div>
    <img class="battle-value-bg" src="../static/bg_battle_value.png" alt="Battle Value Background">
    <div class="box-container">
      <div class="box-row">
        <div>
          <img class="box-img" src="../static/cultivate_box.png" alt="Box 1">
          <div class="box-caption">修炼</div>
        </div>
        <div>
          <img class="box-img" src="../static/techniques_box.png" alt="Box 2">
          <div class="box-caption">功法</div>
        </div>
      </div>
      <div class="box-row">
        <div>
          <img class="box-img" src="../static/dungeon_box.png" alt="Box 3">
          <div class="box-caption">副本</div>
        </div>
        <div>
          <img class="box-img" src="../static/backpack_box.png" alt="Box 4">
          <div class="box-caption">背包</div>
        </div>
      </div>
    </div>
  </div>

  <div class="attribute-points">
    <div>
      <label>根骨:</label>
      <span>7</span>
    </div>
    <div>
      <label>魅力:</label>
      <span>3</span>
    </div>
    <div>
      <label>家境:</label>
      <span>5</span>
    </div>
    <div>
      <label>悟性:</label>
      <span>2</span>
    </div>
    <div>
      <label>机缘:</label>
      <span>2</span>
    </div>
    <div>
      <label>体魄:</label>
      <span>1</span>
    </div>
  </div>

  <div class="event-description-container" onclick="showNextParagraph()">
    <div class="event-description">
      <p>1岁: 你出生了，出生在一个不好不坏的小康家庭。</p>
      <p>2岁: 你天赋异禀，小小年纪便可写字说话，健步如飞 (悟性+1 体魄 +1)。</p>
      <p>3岁: 村里的仙师检测出你拥有万中无一的火灵根，从此你便踏上了追寻长生的求仙之路 (修为+200)。</p>
      <p>8岁: 突然有一天，一位身后跟着许多随从的女孩踏入你家，她是与你指腹为婚的纳兰嫣，然而由于家族没落，她来提出退婚，你愤而定下十年之约。(修为+1000)</p>
      <p>10岁: 从纳戒中现出一位老人，自称药老，愿帮你完成十年之约，并赠与你武器与功法 (获得功法：紫极魔瞳 武器：暴雨梨花针)。</p>
      <p>11岁: 你通过那同辈天才皆陨落的福大入学副本，进入传说中的隐世宗门福门修炼，从此修为一日千里 (获得功法：雷霆万钧)</p>
      <button class="next-year-button" id="nextYearButton" onclick="startNextYear()">开启下一年</button>
    </div>
  </div>
  <!-- 帮助和设置按钮 -->
  <button class="help-button" onclick="showHelp()"></button>
  <button class="settings-button" onclick="showSettings()"></button>


  <script>
    // 存储每一年的事件文本
    const eventTexts = [
      [
        "1岁: 你出生了，出生在一个不好不坏的小康家庭。",
        "2岁: 你天赋异禀，小小年纪便可写字说话，健步如飞 (悟性+1 体魄 +1)。",
        "3岁: 村里的仙师检测出你拥有万中无一的火灵根，从此你便踏上了追寻长生的求仙之路 (修为+200)。",
        "8岁: 突然有一天，一位身后跟着许多随从的女孩踏入你家，她是与你指腹为婚的纳兰嫣，然而由于家族没落，她来提出退婚，你愤而定下十年之约。(修为+1000)",
        "10岁: 从纳戒中现出一位老人，自称药老，愿帮你完成十年之约，并赠与你武器与功法 (获得功法：紫极魔瞳 武器：暴雨梨花针)。",
        "11岁: 你通过那同辈天才皆陨落的福大入学副本，进入传说中的隐世宗门福门修炼，从此修为一日千里 (获得功法：雷霆万钧)"
      ],
      [
        "12岁: 你在宗门内崭露头角，被师父看重，得到独门传授（功法+1）。",
        "13岁: 你首次在宗门大会中获胜，成为内门弟子，地位上升 (修为+500)。",
        "15岁: 一场突如其来的魔道入侵让你奋勇作战，保卫宗门有功 (修为+800)。",
        "18岁: 你邂逅了神秘的古老遗迹，从中获得了稀有的灵器 (获得灵器：玄天尺)。",
        "20岁: 你成功突破至元婴境界，实力大幅提升 (修为+2000)。"
      ]
      // 更多年份的事件可继续添加
    ];

    let currentYear = 0; // 当前年份索引
    let currentParagraph = 0; // 当前段落索引
    let paragraphs = document.querySelectorAll(".event-description p");
    const nextYearButton = document.getElementById("nextYearButton");

    // 显示下一段文本
    function showNextParagraph() {
      if (currentParagraph < paragraphs.length) {
        paragraphs[currentParagraph].style.display = "block";
        currentParagraph++;
      }
      
      // 检查是否到达本年文本的结尾
      if (currentParagraph >= paragraphs.length) {
        nextYearButton.style.display = "block";
      }
    }

    // 初始化显示第一段
    document.addEventListener("DOMContentLoaded", () => {
      paragraphs[0].style.display = "block";
    });

    // 开始下一年
    function startNextYear() {
      currentYear++; // 增加年份
      currentParagraph = 0; // 重置段落索引

      // 更新文本内容
      if (currentYear < eventTexts.length) {
        // 清空当前年份文本
        document.querySelector(".event-description").innerHTML = eventTexts[currentYear].map(text => `<p style="display: none;">${text}</p>`).join('') + `<button class="next-year-button" id="nextYearButton" onclick="startNextYear()" style="display: none;">开启下一年</button>`;
        
        // 重新选择新的段落
        paragraphs = document.querySelectorAll(".event-description p");

        // 隐藏按钮并显示第一个段落
        nextYearButton.style.display = "none";
        paragraphs[0].style.display = "block";
      } else {
        // 如果没有更多年份，隐藏按钮或显示结束信息
        nextYearButton.style.display = "none";
        document.querySelector(".event-description").innerHTML = "<p>恭喜你已完成所有年份的冒险！</p>";
      }
    }
    function showHelp() {
            alert("显示帮助内容...");
        }

        function showSettings() {
            alert("打开设置...");
        }
  </script>
</body>
</html>
